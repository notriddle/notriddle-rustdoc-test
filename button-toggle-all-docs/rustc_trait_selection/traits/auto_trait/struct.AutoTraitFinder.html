<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `AutoTraitFinder` struct in crate `rustc_trait_selection`."><meta name="keywords" content="rust, rustlang, rust-lang, AutoTraitFinder"><title>AutoTraitFinder in rustc_trait_selection::traits::auto_trait - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../../normalize.css"><link rel="stylesheet" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../../ayu.css" disabled><link rel="stylesheet" href="../../../dark.css" disabled><link rel="stylesheet" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../main.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../rustc_trait_selection/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../../rustc_trait_selection/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">AutoTraitFinder</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#fields">Fields</a></h3><ul><li><a href="#structfield.tcx">tcx</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><ul><li><a href="#method.add_user_pred">add_user_pred</a></li><li><a href="#method.clean_pred">clean_pred</a></li><li><a href="#method.evaluate_nested_obligations">evaluate_nested_obligations</a></li><li><a href="#method.evaluate_predicates">evaluate_predicates</a></li><li><a href="#method.find_auto_trait_generics">find_auto_trait_generics</a></li><li><a href="#method.is_of_param">is_of_param</a></li><li><a href="#method.is_param_no_infer">is_param_no_infer</a></li><li><a href="#method.is_self_referential_projection">is_self_referential_projection</a></li><li><a href="#method.map_vid_to_region">map_vid_to_region</a></li><li><a href="#method.new">new</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul><li><a href="#impl-RefUnwindSafe-for-AutoTraitFinder%3C%27tcx%3E">!RefUnwindSafe</a></li><li><a href="#impl-Send-for-AutoTraitFinder%3C%27tcx%3E">!Send</a></li><li><a href="#impl-Sync-for-AutoTraitFinder%3C%27tcx%3E">!Sync</a></li><li><a href="#impl-Unpin-for-AutoTraitFinder%3C%27tcx%3E">Unpin</a></li><li><a href="#impl-UnwindSafe-for-AutoTraitFinder%3C%27tcx%3E">!UnwindSafe</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><ul><li><a href="#impl-Any-for-AutoTraitFinder%3C%27tcx%3E">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-AutoTraitFinder%3C%27tcx%3E">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-AutoTraitFinder%3C%27tcx%3E">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-AutoTraitFinder%3C%27tcx%3E">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-AutoTraitFinder%3C%27tcx%3E">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-AutoTraitFinder%3C%27tcx%3E">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-AutoTraitFinder%3C%27tcx%3E">TryInto&lt;U&gt;</a></li></ul></div></section><h2 class="location"><a href="index.html">In rustc_trait_selection::traits::auto_trait</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../rustc_trait_selection/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Struct <a href="../../index.html">rustc_trait_selection</a>::<wbr><a href="../index.html">traits</a>::<wbr><a href="index.html">auto_trait</a>::<wbr><a class="struct" href="#">AutoTraitFinder</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#53-55">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="docblock item-decl"><pre class="rust struct"><code>pub struct AutoTraitFinder&lt;'tcx&gt; {
    tcx: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/context/struct.TyCtxt.html" title="struct rustc_middle::ty::context::TyCtxt">TyCtxt</a>&lt;'tcx&gt;,
}</code></pre></div><h2 id="fields" class="fields small-section-header">Fields<a href="#fields" class="anchor"></a></h2><span id="structfield.tcx" class="structfield small-section-header"><a href="#structfield.tcx" class="anchor field"></a><code>tcx: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/context/struct.TyCtxt.html" title="struct rustc_middle::ty::context::TyCtxt">TyCtxt</a>&lt;'tcx&gt;</code></span><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#57-231">source</a><a href="#impl-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; <a class="struct" href="struct.AutoTraitFinder.html" title="struct rustc_trait_selection::traits::auto_trait::AutoTraitFinder">AutoTraitFinder</a>&lt;'tcx&gt;</h3></section></summary><div class="impl-items"><section id="method.new" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#58-60">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fnname">new</a>(tcx: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/context/struct.TyCtxt.html" title="struct rustc_middle::ty::context::TyCtxt">TyCtxt</a>&lt;'tcx&gt;) -&gt; Self</h4></section><details class="rustdoc-toggle method-toggle" open><summary><section id="method.find_auto_trait_generics" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#80-230">source</a><h4 class="code-header">pub fn <a href="#method.find_auto_trait_generics" class="fnname">find_auto_trait_generics</a>&lt;A&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;ty: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Ty.html" title="struct rustc_middle::ty::Ty">Ty</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;orig_env: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.ParamEnv.html" title="struct rustc_middle::ty::ParamEnv">ParamEnv</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;trait_did: <a class="struct" href="../../../rustc_span/def_id/struct.DefId.html" title="struct rustc_span::def_id::DefId">DefId</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;auto_trait_callback: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="struct" href="struct.AutoTraitInfo.html" title="struct rustc_trait_selection::traits::auto_trait::AutoTraitInfo">AutoTraitInfo</a>&lt;'tcx&gt;) -&gt; A<br>) -&gt; <a class="enum" href="enum.AutoTraitResult.html" title="enum rustc_trait_selection::traits::auto_trait::AutoTraitResult">AutoTraitResult</a>&lt;A&gt;</h4></section></summary><div class="docblock"><p>Makes a best effort to determine whether and under which conditions an auto trait is
implemented for a type. For example, if you have</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">struct </span>Foo&lt;T&gt; { data: Box&lt;T&gt; }</code></pre></div>
<p>then this might return that Foo<T>: Send if T: Send (encoded in the AutoTraitResult type).
The analysis attempts to account for custom impls as well as other complex cases. This
result is intended for use by rustdoc and other such consumers.</p>
<p>(Note that due to the coinductive nature of Send, the full and correct result is actually
quite simple to generate. That is, when a type has no custom impl, it is Send iff its field
types are all Send. So, in our example, we might have that Foo<T>: Send if Box<T>: Send.
But this is often not the best way to present to the user.)</p>
<p>Warning: The API should be considered highly unstable, and it may be refactored or removed
in the future.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-AutoTraitFinder%3C%27tcx%3E-1" class="impl has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#233-885">source</a><a href="#impl-AutoTraitFinder%3C%27tcx%3E-1" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; <a class="struct" href="struct.AutoTraitFinder.html" title="struct rustc_trait_selection::traits::auto_trait::AutoTraitFinder">AutoTraitFinder</a>&lt;'tcx&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.evaluate_predicates" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#273-403">source</a><h4 class="code-header">fn <a href="#method.evaluate_predicates" class="fnname">evaluate_predicates</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;infcx: &amp;<a class="struct" href="../../infer/struct.InferCtxt.html" title="struct rustc_trait_selection::infer::InferCtxt">InferCtxt</a>&lt;'_, 'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;trait_did: <a class="struct" href="../../../rustc_span/def_id/struct.DefId.html" title="struct rustc_span::def_id::DefId">DefId</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;ty: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Ty.html" title="struct rustc_middle::ty::Ty">Ty</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;param_env: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.ParamEnv.html" title="struct rustc_middle::ty::ParamEnv">ParamEnv</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;user_env: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.ParamEnv.html" title="struct rustc_middle::ty::ParamEnv">ParamEnv</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;fresh_preds: &amp;mut FxHashSet&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Predicate.html" title="struct rustc_middle::ty::Predicate">Predicate</a>&lt;'tcx&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;only_projections: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.ParamEnv.html" title="struct rustc_middle::ty::ParamEnv">ParamEnv</a>&lt;'tcx&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.ParamEnv.html" title="struct rustc_middle::ty::ParamEnv">ParamEnv</a>&lt;'tcx&gt;)&gt;</h4></section></summary><div class="docblock"><p>The core logic responsible for computing the bounds for our synthesized impl.</p>
<p>To calculate the bounds, we call <code>SelectionContext.select</code> in a loop. Like
<code>FulfillmentContext</code>, we recursively select the nested obligations of predicates we
encounter. However, whenever we encounter an <code>UnimplementedError</code> involving a type
parameter, we add it to our <code>ParamEnv</code>. Since our goal is to determine when a particular
type implements an auto trait, Unimplemented errors tell us what conditions need to be met.</p>
<p>This method ends up working somewhat similarly to <code>FulfillmentContext</code>, but with a few key
differences. <code>FulfillmentContext</code> works under the assumption that it’s dealing with concrete
user code. According, it considers all possible ways that a <code>Predicate</code> could be met, which
isn’t always what we want for a synthesized impl. For example, given the predicate <code>T: Iterator</code>, <code>FulfillmentContext</code> can end up reporting an Unimplemented error for <code>T: IntoIterator</code> – since there’s an implementation of <code>Iterator</code> where <code>T: IntoIterator</code>,
<code>FulfillmentContext</code> will drive <code>SelectionContext</code> to consider that impl before giving up.
If we were to rely on <code>FulfillmentContext</code>s decision, we might end up synthesizing an impl
like this:</p>

<div class="example-wrap ignore"><div class='tooltip'>ⓘ</div><pre class="rust rust-example-rendered"><code><span class="kw">impl</span>&lt;T&gt; Send <span class="kw">for </span>Foo&lt;T&gt; <span class="kw">where </span>T: IntoIterator</code></pre></div>
<p>While it might be technically true that Foo implements Send where <code>T: IntoIterator</code>,
the bound is overly restrictive - it’s really only necessary that <code>T: Iterator</code>.</p>
<p>For this reason, <code>evaluate_predicates</code> handles predicates with type variables specially.
When we encounter an <code>Unimplemented</code> error for a bound such as <code>T: Iterator</code>, we immediately
add it to our <code>ParamEnv</code>, and add it to our stack for recursive evaluation. When we later
select it, we’ll pick up any nested bounds, without ever inferring that <code>T: IntoIterator</code>
needs to hold.</p>
<p>One additional consideration is supertrait bounds. Normally, a <code>ParamEnv</code> is only ever
constructed once for a given type. As part of the construction process, the <code>ParamEnv</code> will
have any supertrait bounds normalized – e.g., if we have a type <code>struct Foo&lt;T: Copy&gt;</code>, the
<code>ParamEnv</code> will contain <code>T: Copy</code> and <code>T: Clone</code>, since <code>Copy: Clone</code>. When we construct our
own <code>ParamEnv</code>, we need to do this ourselves, through <code>traits::elaborate_predicates</code>, or
else <code>SelectionContext</code> will choke on the missing predicates. However, this should never
show up in the final synthesized generics: we don’t want our generated docs page to contain
something like <code>T: Copy + Clone</code>, as that’s redundant. Therefore, we keep track of a
separate <code>user_env</code>, which only holds the predicates that will actually be displayed to the
user.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.add_user_pred" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#428-510">source</a><h4 class="code-header">fn <a href="#method.add_user_pred" class="fnname">add_user_pred</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;user_computed_preds: &amp;mut FxHashSet&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Predicate.html" title="struct rustc_middle::ty::Predicate">Predicate</a>&lt;'tcx&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;new_pred: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Predicate.html" title="struct rustc_middle::ty::Predicate">Predicate</a>&lt;'tcx&gt;<br>)</h4></section></summary><div class="docblock"><p>This method is designed to work around the following issue:
When we compute auto trait bounds, we repeatedly call <code>SelectionContext.select</code>,
progressively building a <code>ParamEnv</code> based on the results we get.
However, our usage of <code>SelectionContext</code> differs from its normal use within the compiler,
in that we capture and re-reprocess predicates from <code>Unimplemented</code> errors.</p>
<p>This can lead to a corner case when dealing with region parameters.
During our selection loop in <code>evaluate_predicates</code>, we might end up with
two trait predicates that differ only in their region parameters:
one containing a HRTB lifetime parameter, and one containing a ‘normal’
lifetime parameter. For example:</p>

<div class="example-wrap ignore"><div class='tooltip'>ⓘ</div><pre class="rust rust-example-rendered"><code>T <span class="kw">as </span>MyTrait&lt;<span class="lifetime">&#39;a</span>&gt;
T <span class="kw">as </span>MyTrait&lt;<span class="lifetime">&#39;static</span>&gt;</code></pre></div>
<p>If we put both of these predicates in our computed <code>ParamEnv</code>, we’ll
confuse <code>SelectionContext</code>, since it will (correctly) view both as being applicable.</p>
<p>To solve this, we pick the ‘more strict’ lifetime bound – i.e., the HRTB
Our end goal is to generate a user-visible description of the conditions
under which a type implements an auto trait. A trait predicate involving
a HRTB means that the type needs to work with any choice of lifetime,
not just one specific lifetime (e.g., <code>'static</code>).</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.map_vid_to_region" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#514-600">source</a><h4 class="code-header">fn <a href="#method.map_vid_to_region" class="fnname">map_vid_to_region</a>&lt;'cx&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;regions: &amp;<a class="struct" href="../../infer/region_constraints/struct.RegionConstraintData.html" title="struct rustc_trait_selection::infer::region_constraints::RegionConstraintData">RegionConstraintData</a>&lt;'cx&gt;<br>) -&gt; FxHashMap&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/sty/struct.RegionVid.html" title="struct rustc_middle::ty::sty::RegionVid">RegionVid</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/sty/struct.Region.html" title="struct rustc_middle::ty::sty::Region">Region</a>&lt;'cx&gt;&gt;</h4></section></summary><div class="docblock"><p>This is very similar to <code>handle_lifetimes</code>. However, instead of matching <code>ty::Region</code>s
to each other, we match <code>ty::RegionVid</code>s to <code>ty::Region</code>s.</p>
</div></details><section id="method.is_param_no_infer" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#602-604">source</a><h4 class="code-header">fn <a href="#method.is_param_no_infer" class="fnname">is_param_no_infer</a>(&amp;self, substs: <a class="type" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/subst/type.SubstsRef.html" title="type rustc_middle::ty::subst::SubstsRef">SubstsRef</a>&lt;'_&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_of_param" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#606-612">source</a><h4 class="code-header">pub fn <a href="#method.is_of_param" class="fnname">is_of_param</a>(&amp;self, ty: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Ty.html" title="struct rustc_middle::ty::Ty">Ty</a>&lt;'_&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_self_referential_projection" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#614-620">source</a><h4 class="code-header">fn <a href="#method.is_self_referential_projection" class="fnname">is_self_referential_projection</a>(&amp;self, p: <a class="type" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/type.PolyProjectionPredicate.html" title="type rustc_middle::ty::PolyProjectionPredicate">PolyProjectionPredicate</a>&lt;'_&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.evaluate_nested_obligations" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#622-876">source</a><h4 class="code-header">fn <a href="#method.evaluate_nested_obligations" class="fnname">evaluate_nested_obligations</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;ty: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Ty.html" title="struct rustc_middle::ty::Ty">Ty</a>&lt;'_&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;nested: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../struct.Obligation.html" title="struct rustc_trait_selection::traits::Obligation">Obligation</a>&lt;'tcx, <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Predicate.html" title="struct rustc_middle::ty::Predicate">Predicate</a>&lt;'tcx&gt;&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;computed_preds: &amp;mut FxHashSet&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Predicate.html" title="struct rustc_middle::ty::Predicate">Predicate</a>&lt;'tcx&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;fresh_preds: &amp;mut FxHashSet&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Predicate.html" title="struct rustc_middle::ty::Predicate">Predicate</a>&lt;'tcx&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;predicates: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/vec_deque/struct.VecDeque.html" title="struct alloc::collections::vec_deque::VecDeque">VecDeque</a>&lt;<a class="type" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/type.PolyTraitPredicate.html" title="type rustc_middle::ty::PolyTraitPredicate">PolyTraitPredicate</a>&lt;'tcx&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;select: &amp;mut <a class="struct" href="../select/struct.SelectionContext.html" title="struct rustc_trait_selection::traits::select::SelectionContext">SelectionContext</a>&lt;'_, 'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;only_projections: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a><br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.clean_pred" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/auto_trait.rs.html#878-884">source</a><h4 class="code-header">pub fn <a href="#method.clean_pred" class="fnname">clean_pred</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;infcx: &amp;<a class="struct" href="../../infer/struct.InferCtxt.html" title="struct rustc_trait_selection::infer::InferCtxt">InferCtxt</a>&lt;'_, 'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;p: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Predicate.html" title="struct rustc_middle::ty::Predicate">Predicate</a>&lt;'tcx&gt;<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Predicate.html" title="struct rustc_middle::ty::Predicate">Predicate</a>&lt;'tcx&gt;</h4></section></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-RefUnwindSafe-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.AutoTraitFinder.html" title="struct rustc_trait_selection::traits::auto_trait::AutoTraitFinder">AutoTraitFinder</a>&lt;'tcx&gt;</h3></section><section id="impl-Send-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-Send-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.AutoTraitFinder.html" title="struct rustc_trait_selection::traits::auto_trait::AutoTraitFinder">AutoTraitFinder</a>&lt;'tcx&gt;</h3></section><section id="impl-Sync-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-Sync-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.AutoTraitFinder.html" title="struct rustc_trait_selection::traits::auto_trait::AutoTraitFinder">AutoTraitFinder</a>&lt;'tcx&gt;</h3></section><section id="impl-Unpin-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-Unpin-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.AutoTraitFinder.html" title="struct rustc_trait_selection::traits::auto_trait::AutoTraitFinder">AutoTraitFinder</a>&lt;'tcx&gt;</h3></section><section id="impl-UnwindSafe-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-UnwindSafe-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.AutoTraitFinder.html" title="struct rustc_trait_selection::traits::auto_trait::AutoTraitFinder">AutoTraitFinder</a>&lt;'tcx&gt;</h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Any-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#200">source</a><a href="#impl-Any-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#201">source</a><a href="#method.type_id" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#209">source</a><a href="#impl-Borrow%3CT%3E-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211">source</a></span><a href="#method.borrow" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218">source</a><a href="#impl-BorrowMut%3CT%3E-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#219">source</a></span><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#559">source</a><a href="#impl-From%3CT%3E-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#562">source</a></span><a href="#method.from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#543">source</a><a href="#impl-Into%3CU%3E-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#551">source</a></span><a href="#method.into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#601">source</a><a href="#impl-TryFrom%3CU%3E-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#607">source</a></span><a href="#method.try_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-AutoTraitFinder%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#586">source</a><a href="#impl-TryInto%3CU%3E-for-AutoTraitFinder%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#592">source</a></span><a href="#method.try_into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div><h2 id="layout" class="small-section-header"> Layout<a href="#layout" class="anchor"></a></h2>
<div class="docblock">
<div class="warning"><p><strong>Note:</strong> Most layout information is <strong>completely unstable</strong> and may even differ between compilations. The only exception is types with certain <code>repr(...)</code> attributes. Please see the Rust Reference’s <a href="https://doc.rust-lang.org/reference/type-layout.html">“Type Layout”</a> chapter for details on type layout guarantees.</p></div>
<p><strong>Size:</strong> 8 bytes</p>
</div>
</section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="rustc_trait_selection" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0-dev" ></div></body></html>