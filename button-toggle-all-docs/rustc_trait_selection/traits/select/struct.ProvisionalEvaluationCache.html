<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The “provisional evaluation cache” is used to store intermediate cache results when solving auto traits. Auto traits are unusual in that they can support cycles. So, for example, a “proof tree” like this would be ok:"><meta name="keywords" content="rust, rustlang, rust-lang, ProvisionalEvaluationCache"><title>ProvisionalEvaluationCache in rustc_trait_selection::traits::select - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../../normalize.css"><link rel="stylesheet" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../../ayu.css" disabled><link rel="stylesheet" href="../../../dark.css" disabled><link rel="stylesheet" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../main.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../rustc_trait_selection/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../../rustc_trait_selection/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">ProvisionalEvaluationCache</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#fields">Fields</a></h3><ul><li><a href="#structfield.dfn">dfn</a></li><li><a href="#structfield.map">map</a></li><li><a href="#structfield.wf_args">wf_args</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><ul><li><a href="#method.get_provisional">get_provisional</a></li><li><a href="#method.insert_provisional">insert_provisional</a></li><li><a href="#method.next_dfn">next_dfn</a></li><li><a href="#method.on_completion">on_completion</a></li><li><a href="#method.on_failure">on_failure</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><ul><li><a href="#impl-Default-for-ProvisionalEvaluationCache%3C%27tcx%3E">Default</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul><li><a href="#impl-RefUnwindSafe-for-ProvisionalEvaluationCache%3C%27tcx%3E">!RefUnwindSafe</a></li><li><a href="#impl-Send-for-ProvisionalEvaluationCache%3C%27tcx%3E">Send</a></li><li><a href="#impl-Sync-for-ProvisionalEvaluationCache%3C%27tcx%3E">!Sync</a></li><li><a href="#impl-Unpin-for-ProvisionalEvaluationCache%3C%27tcx%3E">Unpin</a></li><li><a href="#impl-UnwindSafe-for-ProvisionalEvaluationCache%3C%27tcx%3E">!UnwindSafe</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><ul><li><a href="#impl-Any-for-ProvisionalEvaluationCache%3C%27tcx%3E">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E">TryInto&lt;U&gt;</a></li></ul></div></section><h2 class="location"><a href="index.html">In rustc_trait_selection::traits::select</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../rustc_trait_selection/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Struct <a href="../../index.html">rustc_trait_selection</a>::<wbr><a href="../index.html">traits</a>::<wbr><a href="index.html">select</a>::<wbr><a class="struct" href="#">ProvisionalEvaluationCache</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/rustc_trait_selection/traits/select/mod.rs.html#2504-2533">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="docblock item-decl"><pre class="rust struct"><code>struct ProvisionalEvaluationCache&lt;'tcx&gt; {
    dfn: <a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.Cell.html" title="struct core::cell::Cell">Cell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;,
    map: <a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.RefCell.html" title="struct core::cell::RefCell">RefCell</a>&lt;FxHashMap&lt;<a class="type" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/type.PolyTraitPredicate.html" title="type rustc_middle::ty::PolyTraitPredicate">PolyTraitPredicate</a>&lt;'tcx&gt;, <a class="struct" href="struct.ProvisionalEvaluation.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluation">ProvisionalEvaluation</a>&gt;&gt;,
    wf_args: <a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.RefCell.html" title="struct core::cell::RefCell">RefCell</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/subst/struct.GenericArg.html" title="struct rustc_middle::ty::subst::GenericArg">GenericArg</a>&lt;'tcx&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)&gt;&gt;,
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The “provisional evaluation cache” is used to store intermediate cache results
when solving auto traits. Auto traits are unusual in that they can support
cycles. So, for example, a “proof tree” like this would be ok:</p>
<ul>
<li><code>Foo&lt;T&gt;: Send</code> :-
<ul>
<li><code>Bar&lt;T&gt;: Send</code> :-
<ul>
<li><code>Foo&lt;T&gt;: Send</code> – cycle, but ok</li>
</ul>
</li>
<li><code>Baz&lt;T&gt;: Send</code></li>
</ul>
</li>
</ul>
<p>Here, to prove <code>Foo&lt;T&gt;: Send</code>, we have to prove <code>Bar&lt;T&gt;: Send</code> and
<code>Baz&lt;T&gt;: Send</code>. Proving <code>Bar&lt;T&gt;: Send</code> in turn required <code>Foo&lt;T&gt;: Send</code>.
For non-auto traits, this cycle would be an error, but for auto traits (because
they are coinductive) it is considered ok.</p>
<p>However, there is a complication: at the point where we have
“proven” <code>Bar&lt;T&gt;: Send</code>, we have in fact only proven it
<em>provisionally</em>. In particular, we proved that <code>Bar&lt;T&gt;: Send</code>
<em>under the assumption</em> that <code>Foo&lt;T&gt;: Send</code>. But what if we later
find out this assumption is wrong?  Specifically, we could
encounter some kind of error proving <code>Baz&lt;T&gt;: Send</code>. In that case,
<code>Bar&lt;T&gt;: Send</code> didn’t turn out to be true.</p>
<p>In Issue #60010, we found a bug in rustc where it would cache
these intermediate results. This was fixed in #60444 by disabling
<em>all</em> caching for things involved in a cycle – in our example,
that would mean we don’t cache that <code>Bar&lt;T&gt;: Send</code>.  But this led
to large slowdowns.</p>
<p>Specifically, imagine this scenario, where proving <code>Baz&lt;T&gt;: Send</code>
first requires proving <code>Bar&lt;T&gt;: Send</code> (which is true:</p>
<ul>
<li><code>Foo&lt;T&gt;: Send</code> :-
<ul>
<li><code>Bar&lt;T&gt;: Send</code> :-
<ul>
<li><code>Foo&lt;T&gt;: Send</code> – cycle, but ok</li>
</ul>
</li>
<li><code>Baz&lt;T&gt;: Send</code>
<ul>
<li><code>Bar&lt;T&gt;: Send</code> – would be nice for this to be a cache hit!</li>
<li><code>*const T: Send</code> – but what if we later encounter an error?</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The <em>provisional evaluation cache</em> resolves this issue. It stores
cache results that we’ve proven but which were involved in a cycle
in some way. We track the minimal stack depth (i.e., the
farthest from the top of the stack) that we are dependent on.
The idea is that the cache results within are all valid – so long as
none of the nodes in between the current node and the node at that minimum
depth result in an error (in which case the cached results are just thrown away).</p>
<p>During evaluation, we consult this provisional cache and rely on
it. Accessing a cached value is considered equivalent to accessing
a result at <code>reached_depth</code>, so it marks the <em>current</em> solution as
provisional as well. If an error is encountered, we toss out any
provisional results added from the subtree that encountered the
error.  When we pop the node at <code>reached_depth</code> from the stack, we
can commit all the things that remain in the provisional cache.</p>
</div></details><h2 id="fields" class="fields small-section-header">Fields<a href="#fields" class="anchor"></a></h2><span id="structfield.dfn" class="structfield small-section-header"><a href="#structfield.dfn" class="anchor field"></a><code>dfn: <a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.Cell.html" title="struct core::cell::Cell">Cell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;</code></span><div class="docblock"><p>next “depth first number” to issue – just a counter</p>
</div><span id="structfield.map" class="structfield small-section-header"><a href="#structfield.map" class="anchor field"></a><code>map: <a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.RefCell.html" title="struct core::cell::RefCell">RefCell</a>&lt;FxHashMap&lt;<a class="type" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/type.PolyTraitPredicate.html" title="type rustc_middle::ty::PolyTraitPredicate">PolyTraitPredicate</a>&lt;'tcx&gt;, <a class="struct" href="struct.ProvisionalEvaluation.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluation">ProvisionalEvaluation</a>&gt;&gt;</code></span><div class="docblock"><p>Map from cache key to the provisionally evaluated thing.
The cache entries contain the result but also the DFN in which they
were added. The DFN is used to clear out values on failure.</p>
<p>Imagine we have a stack like:</p>
<ul>
<li><code>A B C</code> and we add a cache for the result of C (DFN 2)</li>
<li>Then we have a stack <code>A B D</code> where <code>D</code> has DFN 3</li>
<li>We try to solve D by evaluating E: <code>A B D E</code> (DFN 4)</li>
<li><code>E</code> generates various cache entries which have cyclic dependencies on <code>B</code>
<ul>
<li><code>A B D E F</code> and so forth</li>
<li>the DFN of <code>F</code> for example would be 5</li>
</ul>
</li>
<li>then we determine that <code>E</code> is in error – we will then clear
all cache values whose DFN is &gt;= 4 – in this case, that
means the cached value for <code>F</code>.</li>
</ul>
</div><span id="structfield.wf_args" class="structfield small-section-header"><a href="#structfield.wf_args" class="anchor field"></a><code>wf_args: <a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.RefCell.html" title="struct core::cell::RefCell">RefCell</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/subst/struct.GenericArg.html" title="struct rustc_middle::ty::subst::GenericArg">GenericArg</a>&lt;'tcx&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)&gt;&gt;</code></span><div class="docblock"><p>The stack of args that we assume to be true because a <code>WF(arg)</code> predicate
is on the stack above (and because of wellformedness is coinductive).
In an “ideal” world, this would share a stack with trait predicates in
<code>TraitObligationStack</code>. However, trait predicates are <em>much</em> hotter than
<code>WellFormed</code> predicates, and it’s very likely that the additional matches
will have a perf effect. The value here is the well-formed <code>GenericArg</code>
and the depth of the trait predicate <em>above</em> that well-formed predicate.</p>
</div><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/select/mod.rs.html#2550-2678">source</a><a href="#impl-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; <a class="struct" href="struct.ProvisionalEvaluationCache.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluationCache">ProvisionalEvaluationCache</a>&lt;'tcx&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.next_dfn" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/select/mod.rs.html#2552-2556">source</a><h4 class="code-header">fn <a href="#method.next_dfn" class="fnname">next_dfn</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Get the next DFN in sequence (basically a counter).</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.get_provisional" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/select/mod.rs.html#2562-2572">source</a><h4 class="code-header">fn <a href="#method.get_provisional" class="fnname">get_provisional</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;fresh_trait_pred: <a class="type" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/type.PolyTraitPredicate.html" title="type rustc_middle::ty::PolyTraitPredicate">PolyTraitPredicate</a>&lt;'tcx&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.ProvisionalEvaluation.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluation">ProvisionalEvaluation</a>&gt;</h4></section></summary><div class="docblock"><p>Check the provisional cache for any result for
<code>fresh_trait_ref</code>. If there is a hit, then you must consider
it an access to the stack slots at depth
<code>reached_depth</code> (from the returned value).</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.insert_provisional" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/select/mod.rs.html#2578-2610">source</a><h4 class="code-header">fn <a href="#method.insert_provisional" class="fnname">insert_provisional</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;from_dfn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;reached_depth: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;fresh_trait_pred: <a class="type" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/type.PolyTraitPredicate.html" title="type rustc_middle::ty::PolyTraitPredicate">PolyTraitPredicate</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;result: <a class="enum" href="../enum.EvaluationResult.html" title="enum rustc_trait_selection::traits::EvaluationResult">EvaluationResult</a><br>)</h4></section></summary><div class="docblock"><p>Insert a provisional result into the cache. The result came
from the node with the given DFN. It accessed a minimum depth
of <code>reached_depth</code> to compute. It evaluated <code>fresh_trait_pred</code>
and resulted in <code>result</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.on_failure" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/select/mod.rs.html#2620-2630">source</a><h4 class="code-header">fn <a href="#method.on_failure" class="fnname">on_failure</a>(&amp;self, dfn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)</h4></section></summary><div class="docblock"><p>Invoked when the node with dfn <code>dfn</code> does not get a successful
result.  This will clear out any provisional cache entries
that were added since <code>dfn</code> was created. This is because the
provisional entries are things which must assume that the
things on the stack at the time of their creation succeeded –
since the failing node is presently at the top of the stack,
these provisional entries must either depend on it or some
ancestor of it.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.on_completion" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/select/mod.rs.html#2669-2677">source</a><h4 class="code-header">fn <a href="#method.on_completion" class="fnname">on_completion</a>(&amp;self, dfn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)</h4></section></summary><div class="docblock"><p>Invoked when the node at depth <code>depth</code> completed without
depending on anything higher in the stack (if that completion
was a failure, then <code>on_failure</code> should have been invoked
already).</p>
<p>Note that we may still have provisional cache items remaining
in the cache when this is done. For example, if there is a
cycle:</p>
<ul>
<li>A depends on…
<ul>
<li>B depends on A</li>
<li>C depends on…
<ul>
<li>D depends on C</li>
</ul>
</li>
<li>…</li>
</ul>
</li>
</ul>
<p>Then as we complete the C node we will have a provisional cache
with results for A, B, C, and D. This method would clear out
the C and D results, but leave A and B provisional.</p>
<p>This is determined based on the DFN: we remove any provisional
results created since <code>dfn</code> started (e.g., in our example, dfn
would be 2, representing the C node, and hence we would
remove the result for D, which has DFN 3, but not the results for
A and B, which have DFNs 0 and 1 respectively).</p>
<p>Note that we <em>do not</em> attempt to cache these cycle participants
in the evaluation cache. Doing so would require carefully computing
the correct <code>DepNode</code> to store in the cache entry:
cycle participants may implicitly depend on query results
related to other participants in the cycle, due to our logic
which examines the evaluation stack.</p>
<p>We used to try to perform this caching,
but it lead to multiple incremental compilation ICEs
(see #92987 and #96319), and was very hard to understand.
Fortunately, removing the caching didn’t seem to
have a performance impact in practice.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Default-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/select/mod.rs.html#2544-2548">source</a><a href="#impl-Default-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="struct.ProvisionalEvaluationCache.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluationCache">ProvisionalEvaluationCache</a>&lt;'tcx&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.default" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../../src/rustc_trait_selection/traits/select/mod.rs.html#2545-2547">source</a><a href="#method.default" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default" class="fnname">default</a>() -&gt; Self</h4></section></summary><div class='docblock'>Returns the “default value” for a type. <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-RefUnwindSafe-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.ProvisionalEvaluationCache.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluationCache">ProvisionalEvaluationCache</a>&lt;'tcx&gt;</h3></section><section id="impl-Send-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-Send-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.ProvisionalEvaluationCache.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluationCache">ProvisionalEvaluationCache</a>&lt;'tcx&gt;</h3></section><section id="impl-Sync-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-Sync-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.ProvisionalEvaluationCache.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluationCache">ProvisionalEvaluationCache</a>&lt;'tcx&gt;</h3></section><section id="impl-Unpin-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-Unpin-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.ProvisionalEvaluationCache.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluationCache">ProvisionalEvaluationCache</a>&lt;'tcx&gt;</h3></section><section id="impl-UnwindSafe-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a href="#impl-UnwindSafe-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.ProvisionalEvaluationCache.html" title="struct rustc_trait_selection::traits::select::ProvisionalEvaluationCache">ProvisionalEvaluationCache</a>&lt;'tcx&gt;</h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Any-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#200">source</a><a href="#impl-Any-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#201">source</a><a href="#method.type_id" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#209">source</a><a href="#impl-Borrow%3CT%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211">source</a></span><a href="#method.borrow" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218">source</a><a href="#impl-BorrowMut%3CT%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#219">source</a></span><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#559">source</a><a href="#impl-From%3CT%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#562">source</a></span><a href="#method.from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#543">source</a><a href="#impl-Into%3CU%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#551">source</a></span><a href="#method.into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#601">source</a><a href="#impl-TryFrom%3CU%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#607">source</a></span><a href="#method.try_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#586">source</a><a href="#impl-TryInto%3CU%3E-for-ProvisionalEvaluationCache%3C%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#592">source</a></span><a href="#method.try_into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div><h2 id="layout" class="small-section-header"> Layout<a href="#layout" class="anchor"></a></h2>
<div class="docblock">
<div class="warning"><p><strong>Note:</strong> Most layout information is <strong>completely unstable</strong> and may even differ between compilations. The only exception is types with certain <code>repr(...)</code> attributes. Please see the Rust Reference’s <a href="https://doc.rust-lang.org/reference/type-layout.html">“Type Layout”</a> chapter for details on type layout guarantees.</p></div>
<p><strong>Size:</strong> 80 bytes</p>
</div>
</section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="rustc_trait_selection" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0-dev" ></div></body></html>