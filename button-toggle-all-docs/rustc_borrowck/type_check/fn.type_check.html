<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Type checks the given `mir` in the context of the inference context `infcx`. Returns any region constraints that have yet to be proven. This result includes liveness constraints that ensure that regions appearing in the types of all local variables are live at all points where that local variable may later be used."><meta name="keywords" content="rust, rustlang, rust-lang, type_check"><title>type_check in rustc_borrowck::type_check - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../rustc_borrowck/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../rustc_borrowck/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><div class="sidebar-elems"><h2 class="location"><a href="index.html">In rustc_borrowck::type_check</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../rustc_borrowck/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Function <a href="../index.html">rustc_borrowck</a>::<wbr><a href="index.html">type_check</a>::<wbr><a class="fn" href="#">type_check</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/rustc_borrowck/type_check/mod.rs.html#125-252">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="docblock item-decl"><pre class="rust fn"><code>pub(crate) fn type_check&lt;'mir, 'tcx&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;infcx: &amp;<a class="struct" href="../../rustc_infer/infer/struct.InferCtxt.html" title="struct rustc_infer::infer::InferCtxt">InferCtxt</a>&lt;'_, 'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;param_env: <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.ParamEnv.html" title="struct rustc_middle::ty::ParamEnv">ParamEnv</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;body: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/mir/struct.Body.html" title="struct rustc_middle::mir::Body">Body</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;promoted: &amp;<a class="struct" href="../../rustc_index/vec/struct.IndexVec.html" title="struct rustc_index::vec::IndexVec">IndexVec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/mir/struct.Promoted.html" title="struct rustc_middle::mir::Promoted">Promoted</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/mir/struct.Body.html" title="struct rustc_middle::mir::Body">Body</a>&lt;'tcx&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;universal_regions: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;<a class="struct" href="../universal_regions/struct.UniversalRegions.html" title="struct rustc_borrowck::universal_regions::UniversalRegions">UniversalRegions</a>&lt;'tcx&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;location_table: &amp;<a class="struct" href="../location/struct.LocationTable.html" title="struct rustc_borrowck::location::LocationTable">LocationTable</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;borrow_set: &amp;<a class="struct" href="../borrow_set/struct.BorrowSet.html" title="struct rustc_borrowck::borrow_set::BorrowSet">BorrowSet</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;all_facts: &amp;mut <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../facts/type.AllFacts.html" title="type rustc_borrowck::facts::AllFacts">AllFacts</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;flow_inits: &amp;mut <a class="struct" href="../../rustc_mir_dataflow/framework/cursor/struct.ResultsCursor.html" title="struct rustc_mir_dataflow::framework::cursor::ResultsCursor">ResultsCursor</a>&lt;'mir, 'tcx, <a class="struct" href="../../rustc_mir_dataflow/impls/struct.MaybeInitializedPlaces.html" title="struct rustc_mir_dataflow::impls::MaybeInitializedPlaces">MaybeInitializedPlaces</a>&lt;'mir, 'tcx&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;move_data: &amp;<a class="struct" href="../../rustc_mir_dataflow/move_paths/struct.MoveData.html" title="struct rustc_mir_dataflow::move_paths::MoveData">MoveData</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;elements: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;<a class="struct" href="../region_infer/values/struct.RegionValueElements.html" title="struct rustc_borrowck::region_infer::values::RegionValueElements">RegionValueElements</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;upvars: &amp;[<a class="struct" href="../struct.Upvar.html" title="struct rustc_borrowck::Upvar">Upvar</a>&lt;'tcx&gt;],<br>&nbsp;&nbsp;&nbsp;&nbsp;use_polonius: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a><br>) -&gt; <a class="struct" href="struct.MirTypeckResults.html" title="struct rustc_borrowck::type_check::MirTypeckResults">MirTypeckResults</a>&lt;'tcx&gt;</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Type checks the given <code>mir</code> in the context of the inference
context <code>infcx</code>. Returns any region constraints that have yet to
be proven. This result includes liveness constraints that
ensure that regions appearing in the types of all local variables
are live at all points where that local variable may later be
used.</p>
<p>This phase of type-check ought to be infallible – this is because
the original, HIR-based type-check succeeded. So if any errors
occur here, we will get a <code>bug!</code> reported.</p>
<h2 id="parameters"><a href="#parameters">Parameters</a></h2>
<ul>
<li><code>infcx</code> – inference context to use</li>
<li><code>param_env</code> – parameter environment to use for trait solving</li>
<li><code>body</code> – MIR body to type-check</li>
<li><code>promoted</code> – map of promoted constants within <code>body</code></li>
<li><code>universal_regions</code> – the universal regions from <code>body</code>s function signature</li>
<li><code>location_table</code> – MIR location map of <code>body</code></li>
<li><code>borrow_set</code> – information about borrows occurring in <code>body</code></li>
<li><code>all_facts</code> – when using Polonius, this is the generated set of Polonius facts</li>
<li><code>flow_inits</code> – results of a maybe-init dataflow analysis</li>
<li><code>move_data</code> – move-data constructed when performing the maybe-init dataflow analysis</li>
<li><code>elements</code> – MIR region map</li>
</ul>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="rustc_borrowck" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0-dev" ></div></body></html>