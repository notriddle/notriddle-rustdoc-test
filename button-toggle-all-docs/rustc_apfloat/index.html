<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Port of LLVMâ€™s APFloat software floating-point implementation from the following C++ sources (please update commit hash when backporting): https://github.com/llvm-mirror/llvm/tree/23efab2bbd424ed13495a420ad8641cb2c6c28f9"><meta name="keywords" content="rust, rustlang, rust-lang, rustc_apfloat"><title>rustc_apfloat - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../normalize.css"><link rel="stylesheet" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../ayu.css" disabled><link rel="stylesheet" href="../dark.css" disabled><link rel="stylesheet" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../rustc_apfloat/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../rustc_apfloat/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate rustc_apfloat</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 1.65.0-dev</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../rustc_apfloat/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">rustc_apfloat</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/rustc_apfloat/lib.rs.html#1-695">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Port of LLVMâ€™s APFloat software floating-point implementation from the
following C++ sources (please update commit hash when backporting):
<a href="https://github.com/llvm-mirror/llvm/tree/23efab2bbd424ed13495a420ad8641cb2c6c28f9">https://github.com/llvm-mirror/llvm/tree/23efab2bbd424ed13495a420ad8641cb2c6c28f9</a></p>
<ul>
<li><code>include/llvm/ADT/APFloat.h</code> -&gt; <code>Float</code> and <code>FloatConvert</code> traits</li>
<li><code>lib/Support/APFloat.cpp</code> -&gt; <code>ieee</code> and <code>ppc</code> modules</li>
<li><code>unittests/ADT/APFloatTest.cpp</code> -&gt; <code>tests</code> directory</li>
</ul>
<p>The port contains no unsafe code, global state, or side-effects in general,
and the only allocations are in the conversion to/from decimal strings.</p>
<p>Most of the API and the testcases are intact in some form or another,
with some ergonomic changes, such as idiomatic short names, returning
new values instead of mutating the receiver, and having separate method
variants that take a non-default rounding mode (with the suffix <code>_r</code>).
Comments have been preserved where possible, only slightly adapted.</p>
<p>Instead of keeping a pointer to a configuration struct and inspecting it
dynamically on every operation, types (e.g., <code>ieee::Double</code>), traits
(e.g., <code>ieee::Semantics</code>) and associated constants are employed for
increased type safety and performance.</p>
<p>On-heap bigints are replaced everywhere (except in decimal conversion),
with short arrays of <code>type Limb = u128</code> elements (instead of <code>u64</code>),
This allows fitting the largest supported significands in one integer
(<code>ieee::Quad</code> and <code>ppc::Fallback</code> use slightly less than 128 bits).
All of the functions in the <code>ieee::sig</code> module operate on slices.</p>
<h2 id="note"><a href="#note">Note</a></h2>
<p>This API is completely unstable and subject to change.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="ieee/index.html" title="rustc_apfloat::ieee mod">ieee</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="ppc/index.html" title="rustc_apfloat::ppc mod">ppc</a></div></div></div><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="macro" href="macro.float_common_impls.html" title="rustc_apfloat::float_common_impls macro">float_common_impls</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="macro" href="macro.unpack.html" title="rustc_apfloat::unpack macro">unpack</a></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.ParseError.html" title="rustc_apfloat::ParseError struct">ParseError</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.Status.html" title="rustc_apfloat::Status struct">Status</a></div><div class="item-right docblock-short">IEEE-754R 7: Default exception handling.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.StatusAnd.html" title="rustc_apfloat::StatusAnd struct">StatusAnd</a></div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.Category.html" title="rustc_apfloat::Category enum">Category</a></div><div class="item-right docblock-short">Category of internally-represented number.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.Round.html" title="rustc_apfloat::Round enum">Round</a></div><div class="item-right docblock-short">IEEE-754R 4.3: Rounding-direction attributes.</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="constant" href="constant.IEK_INF.html" title="rustc_apfloat::IEK_INF constant">IEK_INF</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="constant" href="constant.IEK_NAN.html" title="rustc_apfloat::IEK_NAN constant">IEK_NAN</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="constant" href="constant.IEK_ZERO.html" title="rustc_apfloat::IEK_ZERO constant">IEK_ZERO</a></div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="trait" href="trait.Float.html" title="rustc_apfloat::Float trait">Float</a></div><div class="item-right docblock-short">A self-contained host- and target-independent arbitrary-precision
floating-point software implementation.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="trait" href="trait.FloatConvert.html" title="rustc_apfloat::FloatConvert trait">FloatConvert</a></div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="type" href="type.ExpInt.html" title="rustc_apfloat::ExpInt type">ExpInt</a></div><div class="item-right docblock-short">A signed type to represent a floating point numberâ€™s unbiased exponent.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="rustc_apfloat" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0-dev" ></div></body></html>