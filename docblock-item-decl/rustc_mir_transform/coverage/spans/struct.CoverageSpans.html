<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Converts the initial set of `CoverageSpan`s (one per MIR `Statement` or `Terminator`) into a minimal set of `CoverageSpan`s, using the BCB CFG to determine where it is safe and useful to:"><meta name="keywords" content="rust, rustlang, rust-lang, CoverageSpans"><title>CoverageSpans in rustc_mir_transform::coverage::spans - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../../normalize.css"><link rel="stylesheet" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../../ayu.css" disabled><link rel="stylesheet" href="../../../dark.css" disabled><link rel="stylesheet" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../main.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../rustc_mir_transform/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../../rustc_mir_transform/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">CoverageSpans</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#fields">Fields</a></h3><ul><li><a href="#structfield.basic_coverage_blocks">basic_coverage_blocks</a></li><li><a href="#structfield.body_span">body_span</a></li><li><a href="#structfield.curr_original_span">curr_original_span</a></li><li><a href="#structfield.fn_sig_span">fn_sig_span</a></li><li><a href="#structfield.mir_body">mir_body</a></li><li><a href="#structfield.pending_dups">pending_dups</a></li><li><a href="#structfield.prev_expn_span">prev_expn_span</a></li><li><a href="#structfield.prev_original_span">prev_original_span</a></li><li><a href="#structfield.refined_spans">refined_spans</a></li><li><a href="#structfield.some_curr">some_curr</a></li><li><a href="#structfield.some_prev">some_prev</a></li><li><a href="#structfield.sorted_spans_iter">sorted_spans_iter</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><ul><li><a href="#method.bcb_to_initial_coverage_spans">bcb_to_initial_coverage_spans</a></li><li><a href="#method.carve_out_span_for_closure">carve_out_span_for_closure</a></li><li><a href="#method.check_invoked_macro_name_span">check_invoked_macro_name_span</a></li><li><a href="#method.check_pending_dups">check_pending_dups</a></li><li><a href="#method.curr">curr</a></li><li><a href="#method.curr_mut">curr_mut</a></li><li><a href="#method.cutoff_prev_at_overlapping_curr">cutoff_prev_at_overlapping_curr</a></li><li><a href="#method.generate_coverage_spans">generate_coverage_spans</a></li><li><a href="#method.hold_pending_dups_unless_dominated">hold_pending_dups_unless_dominated</a></li><li><a href="#method.mir_to_initial_sorted_coverage_spans">mir_to_initial_sorted_coverage_spans</a></li><li><a href="#method.next_coverage_span">next_coverage_span</a></li><li><a href="#method.prev">prev</a></li><li><a href="#method.prev_ends_before_curr">prev_ends_before_curr</a></li><li><a href="#method.prev_mut">prev_mut</a></li><li><a href="#method.prev_starts_after_next">prev_starts_after_next</a></li><li><a href="#method.push_refined_span">push_refined_span</a></li><li><a href="#method.span_bcb_is_dominated_by">span_bcb_is_dominated_by</a></li><li><a href="#method.take_curr">take_curr</a></li><li><a href="#method.take_prev">take_prev</a></li><li><a href="#method.to_refined_spans">to_refined_spans</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul><li><a href="#impl-RefUnwindSafe-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">!RefUnwindSafe</a></li><li><a href="#impl-Send-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">!Send</a></li><li><a href="#impl-Sync-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">!Sync</a></li><li><a href="#impl-Unpin-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">Unpin</a></li><li><a href="#impl-UnwindSafe-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">!UnwindSafe</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><ul><li><a href="#impl-Any-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E">TryInto&lt;U&gt;</a></li></ul></div></section><h2 class="location"><a href="index.html">In rustc_mir_transform::coverage::spans</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../rustc_mir_transform/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Struct <a href="../../index.html">rustc_mir_transform</a>::<wbr><a href="../index.html">coverage</a>::<wbr><a href="index.html">spans</a>::<wbr><a class="struct" href="#">CoverageSpans</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#217-271">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="item-decl"><pre class="rust struct"><code>pub struct CoverageSpans&lt;'a, 'tcx&gt; {
    mir_body: &amp;'a <a class="struct" href="../../../rustc_middle/mir/struct.Body.html" title="struct rustc_middle::mir::Body">Body</a>&lt;'tcx&gt;,
    fn_sig_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a>,
    body_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a>,
    basic_coverage_blocks: &amp;'a <a class="struct" href="../graph/struct.CoverageGraph.html" title="struct rustc_mir_transform::coverage::graph::CoverageGraph">CoverageGraph</a>,
    sorted_spans_iter: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/into_iter/struct.IntoIter.html" title="struct alloc::vec::into_iter::IntoIter">IntoIter</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;&gt;,
    some_curr: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;,
    curr_original_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a>,
    some_prev: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;,
    prev_original_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a>,
    prev_expn_span: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a>&gt;,
    pending_dups: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;,
    refined_spans: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;,
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Converts the initial set of <code>CoverageSpan</code>s (one per MIR <code>Statement</code> or <code>Terminator</code>) into a
minimal set of <code>CoverageSpan</code>s, using the BCB CFG to determine where it is safe and useful to:</p>
<ul>
<li>Remove duplicate source code coverage regions</li>
<li>Merge spans that represent continuous (both in source code and control flow), non-branching
execution</li>
<li>Carve out (leave uncovered) any span that will be counted by another MIR (notably, closures)</li>
</ul>
</div></details><h2 id="fields" class="fields small-section-header">Fields<a href="#fields" class="anchor"></a></h2><span id="structfield.mir_body" class="structfield small-section-header"><a href="#structfield.mir_body" class="anchor field"></a><code>mir_body: &amp;'a <a class="struct" href="../../../rustc_middle/mir/struct.Body.html" title="struct rustc_middle::mir::Body">Body</a>&lt;'tcx&gt;</code></span><div class="docblock"><p>The MIR, used to look up <code>BasicBlockData</code>.</p>
</div><span id="structfield.fn_sig_span" class="structfield small-section-header"><a href="#structfield.fn_sig_span" class="anchor field"></a><code>fn_sig_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a></code></span><div class="docblock"><p>A <code>Span</code> covering the signature of function for the MIR.</p>
</div><span id="structfield.body_span" class="structfield small-section-header"><a href="#structfield.body_span" class="anchor field"></a><code>body_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a></code></span><div class="docblock"><p>A <code>Span</code> covering the function body of the MIR (typically from left curly brace to right
curly brace).</p>
</div><span id="structfield.basic_coverage_blocks" class="structfield small-section-header"><a href="#structfield.basic_coverage_blocks" class="anchor field"></a><code>basic_coverage_blocks: &amp;'a <a class="struct" href="../graph/struct.CoverageGraph.html" title="struct rustc_mir_transform::coverage::graph::CoverageGraph">CoverageGraph</a></code></span><div class="docblock"><p>The BasicCoverageBlock Control Flow Graph (BCB CFG).</p>
</div><span id="structfield.sorted_spans_iter" class="structfield small-section-header"><a href="#structfield.sorted_spans_iter" class="anchor field"></a><code>sorted_spans_iter: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/into_iter/struct.IntoIter.html" title="struct alloc::vec::into_iter::IntoIter">IntoIter</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;&gt;</code></span><div class="docblock"><p>The initial set of <code>CoverageSpan</code>s, sorted by <code>Span</code> (<code>lo</code> and <code>hi</code>) and by relative
dominance between the <code>BasicCoverageBlock</code>s of equal <code>Span</code>s.</p>
</div><span id="structfield.some_curr" class="structfield small-section-header"><a href="#structfield.some_curr" class="anchor field"></a><code>some_curr: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;</code></span><div class="docblock"><p>The current <code>CoverageSpan</code> to compare to its <code>prev</code>, to possibly merge, discard, force the
discard of the <code>prev</code> (and or <code>pending_dups</code>), or keep both (with <code>prev</code> moved to
<code>pending_dups</code>). If <code>curr</code> is not discarded or merged, it becomes <code>prev</code> for the next
iteration.</p>
</div><span id="structfield.curr_original_span" class="structfield small-section-header"><a href="#structfield.curr_original_span" class="anchor field"></a><code>curr_original_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a></code></span><div class="docblock"><p>The original <code>span</code> for <code>curr</code>, in case <code>curr.span()</code> is modified. The <code>curr_original_span</code>
<strong>must not be mutated</strong> (except when advancing to the next <code>curr</code>), even if <code>curr.span()</code>
is mutated.</p>
</div><span id="structfield.some_prev" class="structfield small-section-header"><a href="#structfield.some_prev" class="anchor field"></a><code>some_prev: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;</code></span><div class="docblock"><p>The CoverageSpan from a prior iteration; typically assigned from that iteration’s <code>curr</code>.
If that <code>curr</code> was discarded, <code>prev</code> retains its value from the previous iteration.</p>
</div><span id="structfield.prev_original_span" class="structfield small-section-header"><a href="#structfield.prev_original_span" class="anchor field"></a><code>prev_original_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a></code></span><div class="docblock"><p>Assigned from <code>curr_original_span</code> from the previous iteration. The <code>prev_original_span</code>
<strong>must not be mutated</strong> (except when advancing to the next <code>prev</code>), even if <code>prev.span()</code>
is mutated.</p>
</div><span id="structfield.prev_expn_span" class="structfield small-section-header"><a href="#structfield.prev_expn_span" class="anchor field"></a><code>prev_expn_span: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a>&gt;</code></span><div class="docblock"><p>A copy of the expn_span from the prior iteration.</p>
</div><span id="structfield.pending_dups" class="structfield small-section-header"><a href="#structfield.pending_dups" class="anchor field"></a><code>pending_dups: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;</code></span><div class="docblock"><p>One or more <code>CoverageSpan</code>s with the same <code>Span</code> but different <code>BasicCoverageBlock</code>s, and
no <code>BasicCoverageBlock</code> in this list dominates another <code>BasicCoverageBlock</code> in the list.
If a new <code>curr</code> span also fits this criteria (compared to an existing list of
<code>pending_dups</code>), that <code>curr</code> <code>CoverageSpan</code> moves to <code>prev</code> before possibly being added to
the <code>pending_dups</code> list, on the next iteration. As a result, if <code>prev</code> and <code>pending_dups</code>
have the same <code>Span</code>, the criteria for <code>pending_dups</code> holds for <code>prev</code> as well: a <code>prev</code>
with a matching <code>Span</code> does not dominate any <code>pending_dup</code> and no <code>pending_dup</code> dominates a
<code>prev</code> with a matching <code>Span</code>)</p>
</div><span id="structfield.refined_spans" class="structfield small-section-header"><a href="#structfield.refined_spans" class="anchor field"></a><code>refined_spans: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;</code></span><div class="docblock"><p>The final <code>CoverageSpan</code>s to add to the coverage map. A <code>Counter</code> or <code>Expression</code>
will also be injected into the MIR for each <code>CoverageSpan</code>.</p>
</div><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#273-793">source</a><a href="#impl-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, 'tcx&gt; <a class="struct" href="struct.CoverageSpans.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpans">CoverageSpans</a>&lt;'a, 'tcx&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.generate_coverage_spans" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#295-321">source</a><h4 class="code-header">pub(super) fn <a href="#method.generate_coverage_spans" class="fnname">generate_coverage_spans</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;mir_body: &amp;'a <a class="struct" href="../../../rustc_middle/mir/struct.Body.html" title="struct rustc_middle::mir::Body">Body</a>&lt;'tcx&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;fn_sig_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;body_span: <a class="struct" href="../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;basic_coverage_blocks: &amp;'a <a class="struct" href="../graph/struct.CoverageGraph.html" title="struct rustc_mir_transform::coverage::graph::CoverageGraph">CoverageGraph</a><br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;</h4></section></summary><div class="docblock"><p>Generate a minimal set of <code>CoverageSpan</code>s, each representing a contiguous code region to be
counted.</p>
<p>The basic steps are:</p>
<ol>
<li>
<p>Extract an initial set of spans from the <code>Statement</code>s and <code>Terminator</code>s of each
<code>BasicCoverageBlockData</code>.</p>
</li>
<li>
<p>Sort the spans by span.lo() (starting position). Spans that start at the same position
are sorted with longer spans before shorter spans; and equal spans are sorted
(deterministically) based on “dominator” relationship (if any).</p>
</li>
<li>
<p>Traverse the spans in sorted order to identify spans that can be dropped (for instance,
if another span or spans are already counting the same code region), or should be merged
into a broader combined span (because it represents a contiguous, non-branching, and
uninterrupted region of source code).</p>
<p>Closures are exposed in their enclosing functions as <code>Assign</code> <code>Rvalue</code>s, and since
closures have their own MIR, their <code>Span</code> in their enclosing function should be left
“uncovered”.</p>
</li>
</ol>
<p>Note the resulting vector of <code>CoverageSpan</code>s may not be fully sorted (and does not need
to be).</p>
</div></details><section id="method.mir_to_initial_sorted_coverage_spans" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#323-365">source</a><h4 class="code-header">fn <a href="#method.mir_to_initial_sorted_coverage_spans" class="fnname">mir_to_initial_sorted_coverage_spans</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;</h4></section><details class="rustdoc-toggle method-toggle" open><summary><section id="method.to_refined_spans" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#369-464">source</a><h4 class="code-header">fn <a href="#method.to_refined_spans" class="fnname">to_refined_spans</a>(self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;</h4></section></summary><div class="docblock"><p>Iterate through the sorted <code>CoverageSpan</code>s, and return the refined list of merged and
de-duplicated <code>CoverageSpan</code>s.</p>
</div></details><section id="method.push_refined_span" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#466-480">source</a><h4 class="code-header">fn <a href="#method.push_refined_span" class="fnname">push_refined_span</a>(&amp;mut self, covspan: <a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>)</h4></section><section id="method.check_invoked_macro_name_span" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#482-503">source</a><h4 class="code-header">fn <a href="#method.check_invoked_macro_name_span" class="fnname">check_invoked_macro_name_span</a>(&amp;mut self)</h4></section><section id="method.bcb_to_initial_coverage_spans" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#510-545">source</a><h4 class="code-header">fn <a href="#method.bcb_to_initial_coverage_spans" class="fnname">bcb_to_initial_coverage_spans</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;bcb: <a class="struct" href="../graph/struct.BasicCoverageBlock.html" title="struct rustc_mir_transform::coverage::graph::BasicCoverageBlock">BasicCoverageBlock</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;bcb_data: &amp;'a <a class="struct" href="../graph/struct.BasicCoverageBlockData.html" title="struct rustc_mir_transform::coverage::graph::BasicCoverageBlockData">BasicCoverageBlockData</a><br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>&gt;</h4></section><section id="method.curr" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#547-551">source</a><h4 class="code-header">fn <a href="#method.curr" class="fnname">curr</a>(&amp;self) -&gt; &amp;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a></h4></section><section id="method.curr_mut" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#553-557">source</a><h4 class="code-header">fn <a href="#method.curr_mut" class="fnname">curr_mut</a>(&amp;mut self) -&gt; &amp;mut <a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a></h4></section><section id="method.prev" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#559-563">source</a><h4 class="code-header">fn <a href="#method.prev" class="fnname">prev</a>(&amp;self) -&gt; &amp;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a></h4></section><section id="method.prev_mut" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#565-569">source</a><h4 class="code-header">fn <a href="#method.prev_mut" class="fnname">prev_mut</a>(&amp;mut self) -&gt; &amp;mut <a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a></h4></section><section id="method.take_prev" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#571-573">source</a><h4 class="code-header">fn <a href="#method.take_prev" class="fnname">take_prev</a>(&amp;mut self) -&gt; <a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a></h4></section><details class="rustdoc-toggle method-toggle" open><summary><section id="method.check_pending_dups" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#584-600">source</a><h4 class="code-header">fn <a href="#method.check_pending_dups" class="fnname">check_pending_dups</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>If there are <code>pending_dups</code> but <code>prev</code> is not a matching dup (<code>prev.span</code> doesn’t match the
<code>pending_dups</code> spans), then one of the following two things happened during the previous
iteration:</p>
<ul>
<li>the previous <code>curr</code> span (which is now <code>prev</code>) was not a duplicate of the pending_dups
(in which case there should be at least two spans in <code>pending_dups</code>); or</li>
<li>the <code>span</code> of <code>prev</code> was modified by <code>curr_mut().merge_from(prev)</code> (in which case
<code>pending_dups</code> could have as few as one span)
In either case, no more spans will match the span of <code>pending_dups</code>, so
add the <code>pending_dups</code> if they don’t overlap <code>curr</code>, and clear the list.</li>
</ul>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.next_coverage_span" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#603-627">source</a><h4 class="code-header">fn <a href="#method.next_coverage_span" class="fnname">next_coverage_span</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Advance <code>prev</code> to <code>curr</code> (if any), and <code>curr</code> to the next <code>CoverageSpan</code> in sorted order.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.take_curr" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#631-633">source</a><h4 class="code-header">fn <a href="#method.take_curr" class="fnname">take_curr</a>(&amp;mut self) -&gt; <a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a></h4></section></summary><div class="docblock"><p>If called, then the next call to <code>next_coverage_span()</code> will <em>not</em> update <code>prev</code> with the
<code>curr</code> coverage span.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.prev_starts_after_next" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#638-640">source</a><h4 class="code-header">fn <a href="#method.prev_starts_after_next" class="fnname">prev_starts_after_next</a>(&amp;self, next_curr: &amp;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns true if the curr span should be skipped because prev has already advanced beyond the
end of curr. This can only happen if a prior iteration updated <code>prev</code> to skip past a region
of code, such as skipping past a closure.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.prev_ends_before_curr" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#644-646">source</a><h4 class="code-header">fn <a href="#method.prev_ends_before_curr" class="fnname">prev_ends_before_curr</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns true if the curr span starts past the end of the prev span, which means they don’t
overlap, so we now know the prev can be added to the refined coverage spans.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.carve_out_span_for_closure" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#653-689">source</a><h4 class="code-header">fn <a href="#method.carve_out_span_for_closure" class="fnname">carve_out_span_for_closure</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>If <code>prev</code>s span extends left of the closure (<code>curr</code>), carve out the closure’s span from
<code>prev</code>’s span. (The closure’s coverage counters will be injected when processing the
closure’s own MIR.) Add the portion of the span to the left of the closure; and if the span
extends to the right of the closure, update <code>prev</code> to that portion of the span. For any
<code>pending_dups</code>, repeat the same process.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.hold_pending_dups_unless_dominated" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#705-759">source</a><h4 class="code-header">fn <a href="#method.hold_pending_dups_unless_dominated" class="fnname">hold_pending_dups_unless_dominated</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>Called if <code>curr.span</code> equals <code>prev_original_span</code> (and potentially equal to all
<code>pending_dups</code> spans, if any). Keep in mind, <code>prev.span()</code> may have been changed.
If prev.span() was merged into other spans (with matching BCB, for instance),
<code>prev.span.hi()</code> will be greater than (further right of) <code>prev_original_span.hi()</code>.
If prev.span() was split off to the right of a closure, prev.span().lo() will be
greater than prev_original_span.lo(). The actual span of <code>prev_original_span</code> is
not as important as knowing that <code>prev()</code> <strong>used to have the same span</strong> as `curr(),
which means their sort order is still meaningful for determining the dominator
relationship.</p>
<p>When two <code>CoverageSpan</code>s have the same <code>Span</code>, dominated spans can be discarded; but if
neither <code>CoverageSpan</code> dominates the other, both (or possibly more than two) are held,
until their disposition is determined. In this latter case, the <code>prev</code> dup is moved into
<code>pending_dups</code> so the new <code>curr</code> dup can be moved to <code>prev</code> for the next iteration.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.cutoff_prev_at_overlapping_curr" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#768-788">source</a><h4 class="code-header">fn <a href="#method.cutoff_prev_at_overlapping_curr" class="fnname">cutoff_prev_at_overlapping_curr</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p><code>curr</code> overlaps <code>prev</code>. If <code>prev</code>s span extends left of <code>curr</code>s span, keep <em>only</em>
statements that end before <code>curr.lo()</code> (if any), and add the portion of the
combined span for those statements. Any other statements have overlapping spans
that can be ignored because <code>curr</code> and/or other upcoming statements/spans inside
the overlap area will produce their own counters. This disambiguation process
avoids injecting multiple counters for overlapping spans, and the potential for
double-counting.</p>
</div></details><section id="method.span_bcb_is_dominated_by" class="method has-srclink"><a class="srclink rightside" href="../../../src/rustc_mir_transform/coverage/spans.rs.html#790-792">source</a><h4 class="code-header">fn <a href="#method.span_bcb_is_dominated_by" class="fnname">span_bcb_is_dominated_by</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;covspan: &amp;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;dom_covspan: &amp;<a class="struct" href="struct.CoverageSpan.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpan">CoverageSpan</a><br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a href="#impl-RefUnwindSafe-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, 'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.CoverageSpans.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpans">CoverageSpans</a>&lt;'a, 'tcx&gt;</h3></section><section id="impl-Send-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a href="#impl-Send-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, 'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.CoverageSpans.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpans">CoverageSpans</a>&lt;'a, 'tcx&gt;</h3></section><section id="impl-Sync-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a href="#impl-Sync-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, 'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.CoverageSpans.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpans">CoverageSpans</a>&lt;'a, 'tcx&gt;</h3></section><section id="impl-Unpin-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a href="#impl-Unpin-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, 'tcx&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.CoverageSpans.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpans">CoverageSpans</a>&lt;'a, 'tcx&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'tcx: 'a,</span></h3></section><section id="impl-UnwindSafe-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a href="#impl-UnwindSafe-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, 'tcx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.CoverageSpans.html" title="struct rustc_mir_transform::coverage::spans::CoverageSpans">CoverageSpans</a>&lt;'a, 'tcx&gt;</h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Any-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#200">source</a><a href="#impl-Any-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#201">source</a><a href="#method.type_id" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#209">source</a><a href="#impl-Borrow%3CT%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211">source</a></span><a href="#method.borrow" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218">source</a><a href="#impl-BorrowMut%3CT%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#219">source</a></span><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#559">source</a><a href="#impl-From%3CT%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#562">source</a></span><a href="#method.from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#543">source</a><a href="#impl-Into%3CU%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#551">source</a></span><a href="#method.into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#601">source</a><a href="#impl-TryFrom%3CU%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#607">source</a></span><a href="#method.try_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#586">source</a><a href="#impl-TryInto%3CU%3E-for-CoverageSpans%3C%27a%2C%20%27tcx%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#592">source</a></span><a href="#method.try_into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div><h2 id="layout" class="small-section-header"> Layout<a href="#layout" class="anchor"></a></h2>
<div class="docblock">
<div class="warning"><p><strong>Note:</strong> Most layout information is <strong>completely unstable</strong> and may even differ between compilations. The only exception is types with certain <code>repr(...)</code> attributes. Please see the Rust Reference’s <a href="https://doc.rust-lang.org/reference/type-layout.html">“Type Layout”</a> chapter for details on type layout guarantees.</p></div>
<p><strong>Size:</strong> 272 bytes</p>
</div>
</section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="rustc_mir_transform" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.0-dev" ></div></body></html>