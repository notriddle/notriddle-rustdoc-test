<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `infer` mod in crate `rustc_infer`."><meta name="keywords" content="rust, rustlang, rust-lang, infer"><title>rustc_infer::infer - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../rustc_infer/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../rustc_infer/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module infer</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../rustc_infer/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">rustc_infer</a>::<wbr><a class="mod" href="#">infer</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/rustc_infer/infer/mod.rs.html#1-2082">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable import-item"><code>pub use self::<a class="enum" href="enum.LateBoundRegionConversionTime.html" title="enum rustc_infer::infer::LateBoundRegionConversionTime">LateBoundRegionConversionTime</a>::*;</code></div></div><div class="item-row"><div class="item-left unstable import-item"><code>pub use self::<a class="enum" href="enum.RegionVariableOrigin.html" title="enum rustc_infer::infer::RegionVariableOrigin">RegionVariableOrigin</a>::*;</code></div></div><div class="item-row"><div class="item-left unstable import-item"><code>pub use self::<a class="enum" href="enum.SubregionOrigin.html" title="enum rustc_infer::infer::SubregionOrigin">SubregionOrigin</a>::*;</code></div></div><div class="item-row"><div class="item-left unstable import-item"><code>pub use self::<a class="enum" href="enum.ValuePairs.html" title="enum rustc_infer::infer::ValuePairs">ValuePairs</a>::*;</code></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="at/index.html" title="rustc_infer::infer::at mod">at</a></div><div class="item-right docblock-short">A nice interface for working with the infcx. The basic idea is to
do <code>infcx.at(cause, param_env)</code>, which sets the “cause” of the
operation as well as the surrounding parameter environment. Then
you can do something like <code>.sub(a, b)</code> or <code>.eq(a, b)</code> to create a
subtype or equality relationship respectively. The first argument
is always the “expected” output from the POV of diagnostics.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="canonical/index.html" title="rustc_infer::infer::canonical mod">canonical</a></div><div class="item-right docblock-short"><strong>Canonicalization</strong> is the key to constructing a query in the
middle of type inference. Ordinarily, it is not possible to store
types from type inference in query keys, because they contain
references to inference variables whose lifetimes are too short
and so forth. Canonicalizing a value T1 using <code>canonicalize_query</code>
produces two things:</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="combine/index.html" title="rustc_infer::infer::combine mod">combine</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">There are four type combiners: <a href="equate/struct.Equate.html" title="Equate">Equate</a>, <a href="sub/struct.Sub.html" title="Sub">Sub</a>, <a href="lub/struct.Lub.html" title="Lub">Lub</a>, and <a href="glb/struct.Glb.html" title="Glb">Glb</a>.
Each implements the trait <a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/relate/trait.TypeRelation.html" title="TypeRelation">TypeRelation</a> and contains methods for
combining two instances of various things and yielding a new instance.
These combiner methods always yield a <code>Result&lt;T&gt;</code>. To relate two
types, you can use <code>infcx.at(cause, param_env)</code> which then allows
you to use the relevant methods of <a href="at/struct.At.html">At</a>.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="equate/index.html" title="rustc_infer::infer::equate mod">equate</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="error_reporting/index.html" title="rustc_infer::infer::error_reporting mod">error_reporting</a></div><div class="item-right docblock-short">Error Reporting Code for the inference engine</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="free_regions/index.html" title="rustc_infer::infer::free_regions mod">free_regions</a></div><div class="item-right docblock-short">This module handles the relationships between “free regions”, i.e., lifetime parameters.
Ordinarily, free regions are unrelated to one another, but they can be related via implied
or explicit bounds. In that case, we track the bounds using the <code>TransitiveRelation</code> type,
and use that to decide when one free region outlives another, and so forth.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="freshen/index.html" title="rustc_infer::infer::freshen mod">freshen</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Freshening is the process of replacing unknown variables with fresh types. The idea is that
the type, after freshening, contains no inference variables but instead contains either a
value for each variable or fresh “arbitrary” types wherever a variable would have been.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="fudge/index.html" title="rustc_infer::infer::fudge mod">fudge</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="glb/index.html" title="rustc_infer::infer::glb mod">glb</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Greatest lower bound. See <a href="lattice/index.html" title="lattice"><code>lattice</code></a>.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="higher_ranked/index.html" title="rustc_infer::infer::higher_ranked mod">higher_ranked</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Helper routines for higher-ranked things. See the <code>doc</code> module at
the end of the file for details.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="lattice/index.html" title="rustc_infer::infer::lattice mod">lattice</a></div><div class="item-right docblock-short">Lattice variables</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="lexical_region_resolve/index.html" title="rustc_infer::infer::lexical_region_resolve mod">lexical_region_resolve</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Lexical region resolution.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="lub/index.html" title="rustc_infer::infer::lub mod">lub</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Least upper bound. See <a href="lattice/index.html" title="lattice"><code>lattice</code></a>.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="nll_relate/index.html" title="rustc_infer::infer::nll_relate mod">nll_relate</a></div><div class="item-right docblock-short">This code is kind of an alternate way of doing subtyping,
supertyping, and type equating, distinct from the <code>combine.rs</code>
code but very similar in its effect and design. Eventually the two
ought to be merged. This code is intended for use in NLL and chalk.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="opaque_types/index.html" title="rustc_infer::infer::opaque_types mod">opaque_types</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="outlives/index.html" title="rustc_infer::infer::outlives mod">outlives</a></div><div class="item-right docblock-short">Various code related to computing outlives relations.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="projection/index.html" title="rustc_infer::infer::projection mod">projection</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="region_constraints/index.html" title="rustc_infer::infer::region_constraints mod">region_constraints</a></div><div class="item-right docblock-short">See <code>README.md</code>.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="resolve/index.html" title="rustc_infer::infer::resolve mod">resolve</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="sub/index.html" title="rustc_infer::infer::sub mod">sub</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="type_variable/index.html" title="rustc_infer::infer::type_variable mod">type_variable</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="undo_log/index.html" title="rustc_infer::infer::undo_log mod">undo_log</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.CombinedSnapshot.html" title="rustc_infer::infer::CombinedSnapshot struct">CombinedSnapshot</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.InferCtxt.html" title="rustc_infer::infer::InferCtxt struct">InferCtxt</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.InferCtxtBuilder.html" title="rustc_infer::infer::InferCtxtBuilder struct">InferCtxtBuilder</a></div><div class="item-right docblock-short">A temporary returned by <code>tcx.infer_ctxt()</code>. This is necessary
for multiple <code>InferCtxt</code> to share the same <code>in_progress_typeck_results</code>
without using <code>Rc</code> or something similar.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.InferCtxtInner.html" title="rustc_infer::infer::InferCtxtInner struct">InferCtxtInner</a></div><div class="item-right docblock-short">This type contains all the things within <code>InferCtxt</code> that sit within a
<code>RefCell</code> and are involved with taking/rolling back snapshots. Snapshot
operations are hot enough that we want only one call to <code>borrow_mut</code> per
call to <code>start_snapshot</code> and <code>rollback_to</code>.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.InferOk.html" title="rustc_infer::infer::InferOk struct">InferOk</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.InferenceLiteralEraser.html" title="rustc_infer::infer::InferenceLiteralEraser struct">InferenceLiteralEraser</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Replace <code>{integer}</code> with <code>i32</code> and <code>{float}</code> with <code>f64</code>.
Used only for diagnostics.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.RegionObligation.html" title="rustc_infer::infer::RegionObligation struct">RegionObligation</a></div><div class="item-right docblock-short">See the <code>region_obligations</code> field for more information.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.ShallowResolver.html" title="rustc_infer::infer::ShallowResolver struct">ShallowResolver</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.TypeFreshener.html" title="rustc_infer::infer::TypeFreshener struct">TypeFreshener</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.TypeTrace.html" title="rustc_infer::infer::TypeTrace struct">TypeTrace</a></div><div class="item-right docblock-short">The trace designates the path through inference that we took to
encounter an error or subtyping constraint.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.DefiningAnchor.html" title="rustc_infer::infer::DefiningAnchor enum">DefiningAnchor</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.FixupError.html" title="rustc_infer::infer::FixupError enum">FixupError</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.IntVarValue.html" title="rustc_infer::infer::IntVarValue enum">IntVarValue</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.LateBoundRegionConversionTime.html" title="rustc_infer::infer::LateBoundRegionConversionTime enum">LateBoundRegionConversionTime</a></div><div class="item-right docblock-short">Times when we replace late-bound regions with variables:</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.NllRegionVariableOrigin.html" title="rustc_infer::infer::NllRegionVariableOrigin enum">NllRegionVariableOrigin</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.RegionResolutionError.html" title="rustc_infer::infer::RegionResolutionError enum">RegionResolutionError</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.RegionVariableOrigin.html" title="rustc_infer::infer::RegionVariableOrigin enum">RegionVariableOrigin</a></div><div class="item-right docblock-short">Reasons to create a region inference variable</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.SubregionOrigin.html" title="rustc_infer::infer::SubregionOrigin enum">SubregionOrigin</a></div><div class="item-right docblock-short">The origin of a <code>r1 &lt;= r2</code> constraint.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.TyOrConstInferVar.html" title="rustc_infer::infer::TyOrConstInferVar enum">TyOrConstInferVar</a></div><div class="item-right docblock-short">Helper for <code>ty_or_const_infer_var_changed</code> (see comment on that), currently
used only for <code>traits::fulfill</code>’s list of <code>stalled_on</code> inference variables.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="enum" href="enum.ValuePairs.html" title="rustc_infer::infer::ValuePairs enum">ValuePairs</a></div><div class="item-right docblock-short">See the <code>error_reporting</code> module for more details.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="trait" href="trait.TyCtxtInferExt.html" title="rustc_infer::infer::TyCtxtInferExt trait">TyCtxtInferExt</a></div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.replace_param_and_infer_substs_with_placeholder.html" title="rustc_infer::infer::replace_param_and_infer_substs_with_placeholder fn">replace_param_and_infer_substs_with_placeholder</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Replaces substs that reference param or infer variables with suitable
placeholders. This function is meant to remove these param and infer
substs when they’re not actually needed to evaluate a constant.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="type" href="type.Bound.html" title="rustc_infer::infer::Bound type">Bound</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="type" href="type.FixupResult.html" title="rustc_infer::infer::FixupResult type">FixupResult</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="type" href="type.InferResult.html" title="rustc_infer::infer::InferResult type">InferResult</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="type" href="type.UnificationTable.html" title="rustc_infer::infer::UnificationTable type">UnificationTable</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="type" href="type.UnitResult.html" title="rustc_infer::infer::UnitResult type">UnitResult</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="rustc_infer" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.0-dev" ></div></body></html>